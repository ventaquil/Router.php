RewriteEngine on
RewriteBase /

# paths to css and js files
RewriteRule ^((includes).*) $1 [L]
RewriteRule ^(.*\.php|.*\.css|.*\.js|.*\.images)$ $1 [L]

# hide .php
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule . %1 [R,L,NC]

# remove multi trailing slashes, for simple x/y/ => x/y
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{THE_REQUEST} \s(.+?)/+[?\s]
RewriteRule ^(.+?)/$ /$1 [R,L]

# remove more than one slashes when they are in link, for simple x//y => x/y
RewriteCond %{THE_REQUEST} //
RewriteRule ^(.+?)/?$ /$1 [R,L,NE]

# rewrite all links server/x to server/x.php
RewriteCond %{REQUEST_FILENAME} !(.*?)\.php
RewriteRule ^([^/]+) $1.php [L]
